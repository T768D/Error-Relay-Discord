- convert to unit tests
- more configurability